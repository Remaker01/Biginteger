\hypertarget{_bigint_8h_source}{}\doxysection{Bigint.\+h}
\label{_bigint_8h_source}\index{E:/DataStructure/LinearTable/BigIntegar/Bigint.h@{E:/DataStructure/LinearTable/BigIntegar/Bigint.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*注意点}}
\DoxyCodeLine{2 \textcolor{comment}{ *1.数字存储方式：data[0]为最低位，往后依次升高}}
\DoxyCodeLine{3 \textcolor{comment}{ *2.注意0的特殊处理}}
\DoxyCodeLine{4 \textcolor{comment}{ */}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef BIGINT\_H}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define BIGINT\_H}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <cstring>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <algorithm>}  \textcolor{comment}{//std::reverse}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <cmath>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}Exceptions.h"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define NUM\_GROUP\_SIZE 4}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#define MOD\_BASE 10000}}
\DoxyCodeLine{14 \textcolor{keyword}{using} std::string;}
\DoxyCodeLine{15 \textcolor{keyword}{using} std::reverse;}
\DoxyCodeLine{16 \textcolor{keyword}{using} std::min;}
\DoxyCodeLine{17 \textcolor{keyword}{using} std::max;}
\DoxyCodeLine{18 \textcolor{keyword}{using} std::bad\_exception;}
\DoxyCodeLine{32 \textcolor{keyword}{class }\mbox{\hyperlink{class_biginteger}{Biginteger}}\{}
\DoxyCodeLine{33   \textcolor{keyword}{private}:}
\DoxyCodeLine{34     \textcolor{keywordtype}{int} *data;}
\DoxyCodeLine{35     \textcolor{keywordtype}{int} eff\_len;  \textcolor{comment}{//有效长度}}
\DoxyCodeLine{36     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} check(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s,\textcolor{keywordtype}{int} len) \{}
\DoxyCodeLine{37         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<len; i++) \{}
\DoxyCodeLine{38             \textcolor{keywordflow}{if}(!(s[i]>=\textcolor{charliteral}{'0'}\&\&s[i]<=\textcolor{charliteral}{'9'}))    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{39         \}}
\DoxyCodeLine{40         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{41     \}}
\DoxyCodeLine{42     \textcolor{comment}{/*删除前导0*/}}
\DoxyCodeLine{43     \textcolor{keyword}{inline} \textcolor{keywordtype}{int} firNoneZero(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s,\textcolor{keywordtype}{int} len) \{}
\DoxyCodeLine{44         \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{45         \textcolor{keywordflow}{for}(i=0; i<len-\/1\&\&s[i]==\textcolor{charliteral}{'0'}; i++);}
\DoxyCodeLine{46         \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{47     \}}
\DoxyCodeLine{48     \textcolor{comment}{/*转换为int数组，方便乘法与加法运算*/}}
\DoxyCodeLine{49     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} convert(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s,\textcolor{keywordtype}{int} len) \{}
\DoxyCodeLine{50         \textcolor{keywordtype}{int} k=0;}
\DoxyCodeLine{51         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=len-\/1; i>=0; i-\/=NUM\_GROUP\_SIZE) \{}
\DoxyCodeLine{52             \textcolor{keywordtype}{int} now=0;}
\DoxyCodeLine{53             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j=i-\/(NUM\_GROUP\_SIZE-\/1); j<=i; j++) \{}
\DoxyCodeLine{54                 \textcolor{keywordflow}{if}(j<0)    \textcolor{keywordflow}{continue};}
\DoxyCodeLine{55                 now=now*10+(s[j]-\/\textcolor{charliteral}{'0'});}
\DoxyCodeLine{56             \}}
\DoxyCodeLine{57             data[k++]=now;}
\DoxyCodeLine{58         \}}
\DoxyCodeLine{59     \}}
\DoxyCodeLine{60     \textcolor{comment}{/*处理加法剩下的位数。a为位数较多的数*/}}
\DoxyCodeLine{61     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Add\_lefts(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a,\mbox{\hyperlink{class_biginteger}{Biginteger}} \&res,\textcolor{keywordtype}{bool} \&carry,\textcolor{keywordtype}{int} minlen) \{}
\DoxyCodeLine{62         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=minlen; i<a.eff\_len; i++) \{}
\DoxyCodeLine{63             \textcolor{keywordtype}{int} now=a.data[i]+carry;}
\DoxyCodeLine{64             res.data[res.eff\_len++]=now\%MOD\_BASE;}
\DoxyCodeLine{65             carry=(bool)(now/MOD\_BASE);}
\DoxyCodeLine{66         \}}
\DoxyCodeLine{67     \}}
\DoxyCodeLine{68     \textcolor{comment}{/*求长度*/}}
\DoxyCodeLine{69     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} make\_length(\mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{}
\DoxyCodeLine{70         \textcolor{keywordtype}{int} highest=a.data[a.eff\_len-\/1];}
\DoxyCodeLine{71         \textcolor{keywordflow}{if}(a.eff\_len==1\&\&highest==0)  a.\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}=1;}
\DoxyCodeLine{72         \textcolor{keywordflow}{else}   a.\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}=(a.eff\_len-\/1)*NUM\_GROUP\_SIZE+(\textcolor{keywordtype}{int})log10(highest)+1;}
\DoxyCodeLine{73     \}}
\DoxyCodeLine{74     \textcolor{comment}{/*处理减法。在此处提供统一接口是因为结果可正可负*/}}
\DoxyCodeLine{75     \mbox{\hyperlink{class_biginteger}{Biginteger}} general\_subt(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&large,\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&small) \{}
\DoxyCodeLine{76         \textcolor{keywordtype}{bool} tw=0;  \textcolor{comment}{//退位}}
\DoxyCodeLine{77         \mbox{\hyperlink{class_biginteger}{Biginteger}} ret(large.\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}});}
\DoxyCodeLine{78         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<small.eff\_len; i++) \{}
\DoxyCodeLine{79             \textcolor{keywordtype}{int} now=large.data[i]-\/small.data[i]-\/tw;}
\DoxyCodeLine{80             \textcolor{keywordflow}{if}(now<0) \{}
\DoxyCodeLine{81                 tw=1;}
\DoxyCodeLine{82                 now=MOD\_BASE-\/abs(now);}
\DoxyCodeLine{83             \}}
\DoxyCodeLine{84             \textcolor{keywordflow}{else}    tw=0;}
\DoxyCodeLine{85             ret.data[ret.eff\_len++]=now\%MOD\_BASE;}
\DoxyCodeLine{86         \}\textcolor{comment}{//处理后面几位}}
\DoxyCodeLine{87         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=small.eff\_len; i<large.eff\_len; i++) \{}
\DoxyCodeLine{88             \textcolor{keywordtype}{int} now=large.data[i]-\/tw;}
\DoxyCodeLine{89             \textcolor{keywordflow}{if}(now<0) \{}
\DoxyCodeLine{90                 tw=1;}
\DoxyCodeLine{91                 now=MOD\_BASE-\/abs(now);}
\DoxyCodeLine{92             \}}
\DoxyCodeLine{93             \textcolor{keywordflow}{else}    tw=0;}
\DoxyCodeLine{94             ret.data[ret.eff\_len++]=now\%MOD\_BASE;}
\DoxyCodeLine{95         \}}
\DoxyCodeLine{96         \textcolor{comment}{//前导零的特殊处理。注意a==b的特殊情况}}
\DoxyCodeLine{97         \textcolor{comment}{//注意：由于上面统一用位数较多数的位数初始化，所以此处可能不知要删1个}}
\DoxyCodeLine{98         \textcolor{comment}{/*if*/}\textcolor{keywordflow}{while}(ret.data[ret.eff\_len-\/1]==0\&\&ret.eff\_len>1)    ret.eff\_len-\/-\/;}
\DoxyCodeLine{99         make\_length(ret);}
\DoxyCodeLine{100         \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{101     \}}
\DoxyCodeLine{102   \textcolor{keyword}{public}:}
\DoxyCodeLine{104     \textcolor{keywordtype}{int} \mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}; \textcolor{comment}{//长度}}
\DoxyCodeLine{108 \textcolor{comment}{}    \mbox{\hyperlink{class_biginteger_a21756d968ef9ac08e3731cae5f8fe502}{Biginteger}}():data(NULL),eff\_len(0),\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}(0) \{\}}
\DoxyCodeLine{114     \mbox{\hyperlink{class_biginteger_ae4615925f117a9633f8fc9f42ee8d318}{Biginteger}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s) \{}
\DoxyCodeLine{115         \textcolor{keywordflow}{if}(s==NULL) \textcolor{keywordflow}{throw} bad\_exception();}
\DoxyCodeLine{116         \textcolor{keywordtype}{int} len=strlen(s);}
\DoxyCodeLine{117         \textcolor{keywordflow}{if}(!check(s,len))    \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_number_format_exception}{NumberFormatException}}();}
\DoxyCodeLine{118         \textcolor{keywordtype}{int} loc=firNoneZero(s,len);}
\DoxyCodeLine{119         \mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}=len-\/loc;}
\DoxyCodeLine{120         eff\_len=ceil(\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}/(\textcolor{keywordtype}{double})NUM\_GROUP\_SIZE);}
\DoxyCodeLine{121         data=\textcolor{keyword}{new} \textcolor{keywordtype}{int}[eff\_len]();}
\DoxyCodeLine{122         \textcolor{keywordflow}{if}(strcmp(s,\textcolor{stringliteral}{"{}0"{}})==0)    data[0]=0;}
\DoxyCodeLine{123         \textcolor{comment}{//注长度不是原来的字符串长度了}}
\DoxyCodeLine{124         \textcolor{keywordflow}{else}    convert(s+loc,\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}});}
\DoxyCodeLine{125     \}}
\DoxyCodeLine{132     \mbox{\hyperlink{class_biginteger_a9df141c0f08c604235dca2ad403e1b99}{Biginteger}}(\textcolor{keywordtype}{string} str) \{}
\DoxyCodeLine{133         \textcolor{keywordtype}{char} *S=\textcolor{keyword}{new} \textcolor{keywordtype}{char}[str.length()+1];}
\DoxyCodeLine{134         strcpy(S,str.c\_str());}
\DoxyCodeLine{135         \textcolor{keyword}{new}(\textcolor{keyword}{this}) \mbox{\hyperlink{class_biginteger_a21756d968ef9ac08e3731cae5f8fe502}{Biginteger}}(S);}
\DoxyCodeLine{136         \textcolor{keywordflow}{if}(S!=NULL)    \textcolor{keyword}{delete} S;}
\DoxyCodeLine{137     \}}
\DoxyCodeLine{142     \mbox{\hyperlink{class_biginteger_a6226edabfed468509ac46b47204bc8ea}{Biginteger}}(\textcolor{keywordtype}{int} len):eff\_len(0),\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}(0) \{}
\DoxyCodeLine{143         data=\textcolor{keyword}{new} \textcolor{keywordtype}{int}[(int)ceil(len/(\textcolor{keywordtype}{double})NUM\_GROUP\_SIZE)]();}
\DoxyCodeLine{144     \}}
\DoxyCodeLine{148       \textcolor{comment}{//拷贝构造函数}}
\DoxyCodeLine{149     \mbox{\hyperlink{class_biginteger_a4058518547ee370dcc58d8223a3a23f7}{Biginteger}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&another) \{}
\DoxyCodeLine{150         eff\_len=another.eff\_len;}
\DoxyCodeLine{151         \mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}=another.\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}};}
\DoxyCodeLine{152         data=\textcolor{keyword}{new} \textcolor{keywordtype}{int}[another.eff\_len]();}
\DoxyCodeLine{153         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<eff\_len; i++)    data[i]=another.data[i];}
\DoxyCodeLine{154     \}}
\DoxyCodeLine{155     \mbox{\hyperlink{class_biginteger}{Biginteger}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&another) \{}
\DoxyCodeLine{156         \textcolor{keywordflow}{if} (\textcolor{keyword}{this} != \&another) \{  \textcolor{comment}{//加上判断，防止自己赋给自己}}
\DoxyCodeLine{157             \textcolor{keywordflow}{if} (data)    \textcolor{keyword}{delete} data;  \textcolor{comment}{//如果原来有数据，则释放数据}}
\DoxyCodeLine{158             eff\_len = another.eff\_len;}
\DoxyCodeLine{159             \mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}} = another.\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}};}
\DoxyCodeLine{160             data = \textcolor{keyword}{new} \textcolor{keywordtype}{int}[another.eff\_len]();}
\DoxyCodeLine{161             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < eff\_len; i++)    data[i] = another.data[i];}
\DoxyCodeLine{162         \}}
\DoxyCodeLine{163         \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{164     \}}
\DoxyCodeLine{165     \textcolor{comment}{/*比较大小。注意从高位向低位比。*/}}
\DoxyCodeLine{171     \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \mbox{\hyperlink{class_biginteger_a59ef9265d21c07e5d349828503078083}{compareTo}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{}
\DoxyCodeLine{172         \textcolor{keywordtype}{int} alen=a.eff\_len;}
\DoxyCodeLine{173         \textcolor{keywordflow}{if}(eff\_len>a.eff\_len)    \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{174         \textcolor{keywordflow}{if}(eff\_len<a.eff\_len)    \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{175         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=alen-\/1; i>=0; i-\/-\/) \{}
\DoxyCodeLine{176             \textcolor{keywordflow}{if}(data[i]>a.data[i])   \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{177             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(data[i]<a.data[i])    \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{178         \}}
\DoxyCodeLine{179         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{180     \}}
\DoxyCodeLine{181     \textcolor{keywordtype}{bool} operator<(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a)  \{\textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_biginteger_a59ef9265d21c07e5d349828503078083}{compareTo}}(a)==-\/1;\}}
\DoxyCodeLine{182     \textcolor{keywordtype}{bool} operator>(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a)  \{\textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_biginteger_a59ef9265d21c07e5d349828503078083}{compareTo}}(a)==1;\}}
\DoxyCodeLine{183     \textcolor{keywordtype}{bool} operator>=(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{\textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_biginteger_a59ef9265d21c07e5d349828503078083}{compareTo}}(a)>=0;\}}
\DoxyCodeLine{184     \textcolor{keywordtype}{bool} operator<=(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{\textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_biginteger_a59ef9265d21c07e5d349828503078083}{compareTo}}(a)<=0;\}}
\DoxyCodeLine{185     \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{\textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_biginteger_a59ef9265d21c07e5d349828503078083}{compareTo}}(a)==0;\}}
\DoxyCodeLine{186     \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{\textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_biginteger_a59ef9265d21c07e5d349828503078083}{compareTo}}(a)!=0;\}}
\DoxyCodeLine{187 }
\DoxyCodeLine{194     \mbox{\hyperlink{class_biginteger}{Biginteger}} \mbox{\hyperlink{class_biginteger_a613ba3e80119be32e985441e95cc80ed}{Add}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{}
\DoxyCodeLine{195         \textcolor{keywordtype}{int} minlen=min(eff\_len,a.eff\_len);}
\DoxyCodeLine{196         \textcolor{keywordtype}{bool} carry=0;  \textcolor{comment}{//进位标记}}
\DoxyCodeLine{197         \mbox{\hyperlink{class_biginteger}{Biginteger}} ret(max(\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}},a.\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}})+1);  \textcolor{comment}{//待返回结果}}
\DoxyCodeLine{198         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<minlen; i++) \{}
\DoxyCodeLine{199             \textcolor{keywordtype}{int} now=data[i]+a.data[i]+carry;}
\DoxyCodeLine{200             ret.data[ret.eff\_len++]=now\%MOD\_BASE;}
\DoxyCodeLine{201             carry=(bool)(now/MOD\_BASE);}
\DoxyCodeLine{202         \}}
\DoxyCodeLine{203         \textcolor{keywordflow}{if}(minlen==eff\_len)  Add\_lefts(a,ret,carry,minlen);}
\DoxyCodeLine{204         \textcolor{keywordflow}{else}    Add\_lefts(*\textcolor{keyword}{this},ret,carry,minlen);}
\DoxyCodeLine{205         \textcolor{comment}{//处理多余进位}}
\DoxyCodeLine{206         \textcolor{keywordflow}{if}(carry!=0)   ret.data[ret.eff\_len++]=1;}
\DoxyCodeLine{207         make\_length(ret);}
\DoxyCodeLine{208         \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{209     \}\textcolor{comment}{/*注意：拷贝构造函数的引用必须为const引用，因为返回值（拷贝）的函数的结果不能用于参数为普通引用类型的参数*/}}
\DoxyCodeLine{210     \mbox{\hyperlink{class_biginteger}{Biginteger}} operator+(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{\textcolor{keywordflow}{return} \mbox{\hyperlink{class_biginteger_a613ba3e80119be32e985441e95cc80ed}{Add}}(a);\}}
\DoxyCodeLine{217     \mbox{\hyperlink{class_biginteger}{Biginteger}} \mbox{\hyperlink{class_biginteger_acc0f167fddfd031a425a9c844113cb5b}{Subt}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{}
\DoxyCodeLine{218         \textcolor{keywordflow}{if}(\mbox{\hyperlink{class_biginteger_a59ef9265d21c07e5d349828503078083}{compareTo}}(a)>=0) \{}
\DoxyCodeLine{219             \mbox{\hyperlink{class_biginteger}{Biginteger}} ret(general\_subt(*\textcolor{keyword}{this},a));}
\DoxyCodeLine{220             \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{221         \}}
\DoxyCodeLine{222         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{223             \mbox{\hyperlink{class_biginteger}{Biginteger}} ret(general\_subt(a,*\textcolor{keyword}{this}));}
\DoxyCodeLine{224             ret.data[ret.eff\_len-\/1]=-\/ret.data[ret.eff\_len-\/1];}
\DoxyCodeLine{225             \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{226         \}}
\DoxyCodeLine{227     \}}
\DoxyCodeLine{228     \mbox{\hyperlink{class_biginteger}{Biginteger}} operator-\/(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{\textcolor{keywordflow}{return} \mbox{\hyperlink{class_biginteger_acc0f167fddfd031a425a9c844113cb5b}{Subt}}(a);\}}
\DoxyCodeLine{235     \mbox{\hyperlink{class_biginteger}{Biginteger}} \mbox{\hyperlink{class_biginteger_a923e93c074d626e874c4833e315f4a8c}{Multiply}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{}
\DoxyCodeLine{236         \textcolor{keywordtype}{int} aLen=a.eff\_len;}
\DoxyCodeLine{237         \mbox{\hyperlink{class_biginteger}{Biginteger}} ret(\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}+a.\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}});  \textcolor{comment}{//存放结果}}
\DoxyCodeLine{238         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<eff\_len; i++) \{  \textcolor{comment}{//本数}}
\DoxyCodeLine{239             \textcolor{keywordtype}{int} carry=0;}
\DoxyCodeLine{240             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j=0; j<aLen; j++) \{  \textcolor{comment}{//a}}
\DoxyCodeLine{241                 \textcolor{keywordtype}{int} now=data[i]*a.data[j]+carry+ret.data[i+j];}
\DoxyCodeLine{242                 carry=now/MOD\_BASE;}
\DoxyCodeLine{243                 ret.data[i+j]=now\%MOD\_BASE;}
\DoxyCodeLine{244             \}}
\DoxyCodeLine{245             \textcolor{keywordflow}{if}(carry!=0)    ret.data[i+aLen]=carry;}
\DoxyCodeLine{246         \}}
\DoxyCodeLine{247         ret.eff\_len=(int)ceil((\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}}+a.\mbox{\hyperlink{class_biginteger_a8e5b9f9b58b8591e9186e3f0dbcf9ffb}{length}})/(double)NUM\_GROUP\_SIZE);  \textcolor{comment}{//?}}
\DoxyCodeLine{248         \textcolor{comment}{//最高位为0时，有效位数要-\/1，注意如果本来就是1就不用减}}
\DoxyCodeLine{249         \textcolor{comment}{/*if*/}\textcolor{keywordflow}{while}(ret.data[ret.eff\_len-\/1]==0\&\&ret.eff\_len!=1)    ret.eff\_len-\/-\/;}
\DoxyCodeLine{250         make\_length(ret);}
\DoxyCodeLine{251         \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{252     \}}
\DoxyCodeLine{253     \mbox{\hyperlink{class_biginteger}{Biginteger}} operator*(\textcolor{keyword}{const} \mbox{\hyperlink{class_biginteger}{Biginteger}} \&a) \{\textcolor{keywordflow}{return} \mbox{\hyperlink{class_biginteger_a923e93c074d626e874c4833e315f4a8c}{Multiply}}(a);\}}
\DoxyCodeLine{258     \textcolor{keyword}{const} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_biginteger_ae077e93a0c2531e3f8171a2c2b2efc4b}{toString}}() \{}
\DoxyCodeLine{259         \textcolor{keywordflow}{if}(data[0]==0\&\&eff\_len==1)    \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}0"{}};}
\DoxyCodeLine{260         \textcolor{keywordtype}{string} ret=\textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{261         \textcolor{keywordtype}{int} now=0;}
\DoxyCodeLine{262         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0; i<eff\_len-\/1; i++) \{}
\DoxyCodeLine{263             \textcolor{keywordtype}{int} now=data[i];}
\DoxyCodeLine{264             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j=0; j<NUM\_GROUP\_SIZE; j++) \{}
\DoxyCodeLine{265                 ret.append(1,(now\%10)+\textcolor{charliteral}{'0'});}
\DoxyCodeLine{266                 now/=10;}
\DoxyCodeLine{267             \}}
\DoxyCodeLine{268         \}}
\DoxyCodeLine{269         now=abs(data[eff\_len-\/1]);}
\DoxyCodeLine{270         \textcolor{comment}{//处理最高位}}
\DoxyCodeLine{271         \textcolor{keywordflow}{while}(now>0) \{}
\DoxyCodeLine{272             ret.append(1,(now\%10)+\textcolor{charliteral}{'0'});}
\DoxyCodeLine{273             now/=10;}
\DoxyCodeLine{274         \}}
\DoxyCodeLine{275         \textcolor{comment}{//处理减法结果为负数的情况}}
\DoxyCodeLine{276         \textcolor{keywordflow}{if}(data[eff\_len-\/1]<0)   ret+=\textcolor{stringliteral}{"{}-\/"{}};}
\DoxyCodeLine{277         reverse(ret.begin(),ret.end());}
\DoxyCodeLine{278         \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{279     \}}
\DoxyCodeLine{280     \mbox{\hyperlink{class_biginteger}{\string~Biginteger}}() \{}
\DoxyCodeLine{281         \textcolor{keywordflow}{if}(data!=NULL) \{}
\DoxyCodeLine{282             \textcolor{keyword}{delete} []data;}
\DoxyCodeLine{283             data=NULL;}
\DoxyCodeLine{284         \}}
\DoxyCodeLine{285     \}}
\DoxyCodeLine{286 \};}
\DoxyCodeLine{287 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// BIGINT\_H}}

\end{DoxyCode}
